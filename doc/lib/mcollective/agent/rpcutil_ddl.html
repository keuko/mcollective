<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>rpcutil.ddl - mcollective version 2.12.1</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
</script>

<script src="../../../js/jquery.js"></script>
<script src="../../../js/darkfish.js"></script>

<link href="../../../css/fonts.css" rel="stylesheet">
<link href="../../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../COPYING.html">COPYING</a>
  
    <li><a href="../../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../../MAINTAINERS.html">MAINTAINERS</a>
  
    <li><a href="../../../README_md.html">README</a>
  
    <li><a href="../../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../../acceptance/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../acceptance/README_md.html">README</a>
  
    <li><a href="../../../acceptance/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../acceptance/config/nodes/centos-5-x86_64_yaml.html">centos-5-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/centos-6-x86_64_yaml.html">centos-6-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/debian-6-x86_64_yaml.html">debian-6-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/debian-7-x86_64_yaml.html">debian-7-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/debian-8-x86_64_yaml.html">debian-8-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/fedora-20-x86_64_yaml.html">fedora-20-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/fedora-21-x86_64_yaml.html">fedora-21-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/redhat-5-x86_64_yaml.html">redhat-5-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/redhat-6-x86_64_yaml.html">redhat-6-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/redhat-7-x86_64_yaml.html">redhat-7-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/ubuntu-1204-x86_64_yaml.html">ubuntu-1204-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/ubuntu-1404-x86_64_yaml.html">ubuntu-1404-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/ubuntu-1410-x86_64_yaml.html">ubuntu-1410-x86_64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2003r2x64-rubyx64_yaml.html">win2003r2x64-rubyx64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2003r2x64-rubyx86_yaml.html">win2003r2x64-rubyx86.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2003r2x86-rubyx86_yaml.html">win2003r2x86-rubyx86.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2003x64-rubyx64_yaml.html">win2003x64-rubyx64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2003x64-rubyx86_yaml.html">win2003x64-rubyx86.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2003x86-rubyx86_yaml.html">win2003x86-rubyx86.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2008-rubyx64_yaml.html">win2008-rubyx64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2008-rubyx86_yaml.html">win2008-rubyx86.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2008r2-rubyx64_yaml.html">win2008r2-rubyx64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2008r2-rubyx86_yaml.html">win2008r2-rubyx86.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2012-rubyx64_yaml.html">win2012-rubyx64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2012-rubyx86_yaml.html">win2012-rubyx86.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2012r2-rubyx64_yaml.html">win2012r2-rubyx64.yaml</a>
  
    <li><a href="../../../acceptance/config/nodes/win2012r2-rubyx86_yaml.html">win2012r2-rubyx86.yaml</a>
  
    <li><a href="../../../acceptance/files/activemq_xml.html">activemq.xml</a>
  
    <li><a href="../../../acceptance/files/ca_crt_pem.html">ca_crt.pem</a>
  
    <li><a href="../../../acceptance/files/client_cfg.html">client.cfg</a>
  
    <li><a href="../../../acceptance/files/client_crt.html">client.crt</a>
  
    <li><a href="../../../acceptance/files/client_key.html">client.key</a>
  
    <li><a href="../../../acceptance/files/server_crt.html">server.crt</a>
  
    <li><a href="../../../acceptance/files/server_key.html">server.key</a>
  
    <li><a href="../../../acceptance/files/windows-client_cfg.html">windows-client.cfg</a>
  
    <li><a href="../../../acceptance/ssl/ca/ca_crl_pem.html">ca_crl.pem</a>
  
    <li><a href="../../../acceptance/ssl/ca/ca_crt_pem.html">ca_crt.pem</a>
  
    <li><a href="../../../acceptance/ssl/ca/ca_key_pem.html">ca_key.pem</a>
  
    <li><a href="../../../acceptance/ssl/ca/ca_pub_pem.html">ca_pub.pem</a>
  
    <li><a href="../../../acceptance/ssl/ca/inventory_txt.html">inventory</a>
  
    <li><a href="../../../acceptance/ssl/ca/private/ca_pass.html">ca.pass</a>
  
    <li><a href="../../../acceptance/ssl/ca/serial.html">serial</a>
  
    <li><a href="../../../acceptance/ssl/ca/signed/activemq_pem.html">activemq.pem</a>
  
    <li><a href="../../../acceptance/ssl/ca/signed/mcollective-client_pem.html">mcollective-client.pem</a>
  
    <li><a href="../../../acceptance/ssl/ca/signed/mcollective-server_pem.html">mcollective-server.pem</a>
  
    <li><a href="../../../acceptance/ssl/ca/signed/socks_local_pem.html">socks.local.pem</a>
  
    <li><a href="../../../acceptance/ssl/certs/activemq_pem.html">activemq.pem</a>
  
    <li><a href="../../../acceptance/ssl/certs/ca_pem.html">ca.pem</a>
  
    <li><a href="../../../acceptance/ssl/certs/mcollective-client_pem.html">mcollective-client.pem</a>
  
    <li><a href="../../../acceptance/ssl/certs/mcollective-server_pem.html">mcollective-server.pem</a>
  
    <li><a href="../../../acceptance/ssl/certs/socks_local_pem.html">socks.local.pem</a>
  
    <li><a href="../../../acceptance/ssl/crl_pem.html">crl.pem</a>
  
    <li><a href="../../../acceptance/ssl/private_keys/activemq_pem.html">activemq.pem</a>
  
    <li><a href="../../../acceptance/ssl/private_keys/mcollective-client_pem.html">mcollective-client.pem</a>
  
    <li><a href="../../../acceptance/ssl/private_keys/mcollective-server_pem.html">mcollective-server.pem</a>
  
    <li><a href="../../../acceptance/ssl/private_keys/socks_local_pem.html">socks.local.pem</a>
  
    <li><a href="../../../acceptance/ssl/public_keys/activemq_pem.html">activemq.pem</a>
  
    <li><a href="../../../acceptance/ssl/public_keys/mcollective-client_pem.html">mcollective-client.pem</a>
  
    <li><a href="../../../acceptance/ssl/public_keys/mcollective-server_pem.html">mcollective-server.pem</a>
  
    <li><a href="../../../acceptance/ssl/public_keys/socks_local_pem.html">socks.local.pem</a>
  
    <li><a href="../../../etc/client_cfg_dist.html">client.cfg.dist</a>
  
    <li><a href="../../../etc/facts_yaml_dist.html">facts.yaml.dist</a>
  
    <li><a href="../../../etc/server_cfg_dist.html">server.cfg.dist</a>
  
    <li><a href="../../../etc/ssl/PLACEHOLDER.html">PLACEHOLDER</a>
  
    <li><a href="../../../etc/ssl/clients/PLACEHOLDER.html">PLACEHOLDER</a>
  
    <li><a href="../../../lib/mcollective/agent/rpcutil_ddl.html">rpcutil.ddl</a>
  
    <li><a href="../../../lib/mcollective/aggregate/average_ddl.html">average.ddl</a>
  
    <li><a href="../../../lib/mcollective/aggregate/sum_ddl.html">sum.ddl</a>
  
    <li><a href="../../../lib/mcollective/aggregate/summary_ddl.html">summary.ddl</a>
  
    <li><a href="../../../lib/mcollective/connector/activemq_ddl.html">activemq.ddl</a>
  
    <li><a href="../../../lib/mcollective/connector/rabbitmq_ddl.html">rabbitmq.ddl</a>
  
    <li><a href="../../../lib/mcollective/data/agent_data_ddl.html">agent_data.ddl</a>
  
    <li><a href="../../../lib/mcollective/data/collective_data_ddl.html">collective_data.ddl</a>
  
    <li><a href="../../../lib/mcollective/data/fact_data_ddl.html">fact_data.ddl</a>
  
    <li><a href="../../../lib/mcollective/data/fstat_data_ddl.html">fstat_data.ddl</a>
  
    <li><a href="../../../lib/mcollective/discovery/flatfile_ddl.html">flatfile.ddl</a>
  
    <li><a href="../../../lib/mcollective/discovery/mc_ddl.html">mc.ddl</a>
  
    <li><a href="../../../lib/mcollective/discovery/stdin_ddl.html">stdin.ddl</a>
  
    <li><a href="../../../lib/mcollective/validator/array_validator_ddl.html">array_validator.ddl</a>
  
    <li><a href="../../../lib/mcollective/validator/ipv4address_validator_ddl.html">ipv4address_validator.ddl</a>
  
    <li><a href="../../../lib/mcollective/validator/ipv6address_validator_ddl.html">ipv6address_validator.ddl</a>
  
    <li><a href="../../../lib/mcollective/validator/length_validator_ddl.html">length_validator.ddl</a>
  
    <li><a href="../../../lib/mcollective/validator/regex_validator_ddl.html">regex_validator.ddl</a>
  
    <li><a href="../../../lib/mcollective/validator/shellsafe_validator_ddl.html">shellsafe_validator.ddl</a>
  
    <li><a href="../../../lib/mcollective/validator/typecheck_validator_ddl.html">typecheck_validator.ddl</a>
  
    <li><a href="../../../mcollective_init.html">mcollective.init</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page lib/mcollective/agent/rpcutil.ddl">

<p>metadata    :name        =&gt; “rpcutil”,</p>

<pre>:description =&gt; &quot;General helpful actions that expose stats and internals to SimpleRPC clients&quot;,
:author      =&gt; &quot;R.I.Pienaar &lt;rip@devco.net&gt;&quot;,
:license     =&gt; &quot;Apache License, Version 2.0&quot;,
:version     =&gt; &quot;1.0&quot;,
:url         =&gt; &quot;https://docs.puppetlabs.com/mcollective/&quot;,
:timeout     =&gt; 10</pre>

<p>action “collective_info”, :description =&gt; “Info about the main and sub
collectives” do</p>

<pre class="ruby"><span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">main_collective</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The main Collective&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Main Collective&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">collectives</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;All Collectives&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;All Collectives&quot;</span>

<span class="ruby-identifier">summarize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">aggregate</span> <span class="ruby-identifier">summary</span>(:<span class="ruby-identifier">collectives</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>end</p>

<p>action “inventory”, :description =&gt; “System Inventory” do</p>

<pre class="ruby"><span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">agents</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;List of agent names&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Agents&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">facts</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;List of facts and values&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Facts&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">classes</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;List of classes on the system&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Classes&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">version</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;MCollective Version&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Version&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">main_collective</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The main Collective&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Main Collective&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">collectives</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;All Collectives&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;All Collectives&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">data_plugins</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;List of data plugin names&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Data Plugins&quot;</span>
</pre>

<p>end</p>

<p>action “get_fact”, :description =&gt; “Retrieve a single fact from the fact
store” do</p>

<pre class="ruby"> <span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

 <span class="ruby-identifier">input</span> :<span class="ruby-identifier">fact</span>,
       :<span class="ruby-identifier">prompt</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The name of the fact&quot;</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The fact to retrieve&quot;</span>,
       :<span class="ruby-identifier">type</span>        =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">string</span>,
       :<span class="ruby-identifier">validation</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'^[\w\-\.]+$'</span>,
       :<span class="ruby-identifier">optional</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
       :<span class="ruby-identifier">maxlength</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">40</span>

 <span class="ruby-identifier">output</span> :<span class="ruby-identifier">fact</span>,
        :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The name of the fact being returned&quot;</span>,
        :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Fact&quot;</span>

 <span class="ruby-identifier">output</span> :<span class="ruby-identifier">value</span>,
        :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The value of the fact&quot;</span>,
        :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Value&quot;</span>

<span class="ruby-identifier">summarize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">aggregate</span> <span class="ruby-identifier">summary</span>(:<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>end</p>

<p>action “get_facts”, :description =&gt; “Retrieve multiple facts from the
fact store” do</p>

<pre class="ruby"><span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

<span class="ruby-identifier">input</span> :<span class="ruby-identifier">facts</span>,
      :<span class="ruby-identifier">prompt</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Comma-separated list of facts&quot;</span>,
      :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Facts to retrieve&quot;</span>,
      :<span class="ruby-identifier">type</span>        =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">string</span>,
      :<span class="ruby-identifier">validation</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'^\s*[\w\.\-]+(\s*,\s*[\w\.\-]+)*$'</span>,
      :<span class="ruby-identifier">optional</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
      :<span class="ruby-identifier">maxlength</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">200</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">values</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;List of values of the facts&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Values&quot;</span>
</pre>

<p>end</p>

<p>action “daemon_stats”, :description =&gt; “Get statistics from the running
daemon” do</p>

<pre class="ruby"><span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">threads</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;List of threads active in the daemon&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Threads&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">agents</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;List of agents loaded&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Agents&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">pid</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Process ID of the daemon&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;PID&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">times</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Processor time consumed by the daemon&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Times&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">validated</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Messages that passed security validation&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Security Validated&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">unvalidated</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Messages that failed security validation&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Failed Security&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">passed</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Passed filter checks&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Passed Filter&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">filtered</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Didn't pass filter checks&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Failed Filter&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">starttime</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Time the server started&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Start Time&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">total</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Total messages received&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Total Messages&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">replies</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Replies sent back to clients&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Replies&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">configfile</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Config file used to start the daemon&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Config File&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">version</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;MCollective Version&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Version&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">ttlexpired</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Messages that did pass TTL checks&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;TTL Expired&quot;</span>

<span class="ruby-identifier">summarize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">aggregate</span> <span class="ruby-identifier">summary</span>(:<span class="ruby-identifier">version</span>)
    <span class="ruby-identifier">aggregate</span> <span class="ruby-identifier">summary</span>(:<span class="ruby-identifier">agents</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>end</p>

<p>action “agent_inventory”, :description =&gt; “Inventory of all agents on
the server” do</p>

<pre class="ruby"><span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">agents</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;List of agents on the server&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Agents&quot;</span>
</pre>

<p>end</p>

<p>action “get_config_item”, :description =&gt; “Get the active value of a
specific config property” do</p>

<pre class="ruby"><span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

<span class="ruby-identifier">input</span> :<span class="ruby-identifier">item</span>,
      :<span class="ruby-identifier">prompt</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Configuration Item&quot;</span>,
      :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The item to retrieve from the server&quot;</span>,
      :<span class="ruby-identifier">type</span>        =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">string</span>,
      :<span class="ruby-identifier">validation</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'^.+$'</span>,
      :<span class="ruby-identifier">optional</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
      :<span class="ruby-identifier">maxlength</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value">50</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">item</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The config property being retrieved&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Property&quot;</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">value</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The value that is in use&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Value&quot;</span>

<span class="ruby-identifier">summarize</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">aggregate</span> <span class="ruby-identifier">summary</span>(:<span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>end</p>

<p>action “get_data”, :description =&gt; “Get data from a data plugin” do</p>

<pre class="ruby"><span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

<span class="ruby-identifier">input</span> :<span class="ruby-identifier">source</span>,
      :<span class="ruby-identifier">prompt</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Data Source&quot;</span>,
      :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The data plugin to retrieve information from&quot;</span>,
      :<span class="ruby-identifier">type</span>        =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">string</span>,
      :<span class="ruby-identifier">validation</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'^\w+$'</span>,
      :<span class="ruby-identifier">optional</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,
      :<span class="ruby-identifier">maxlength</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">50</span>

<span class="ruby-identifier">input</span> :<span class="ruby-identifier">query</span>,
      :<span class="ruby-identifier">prompt</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Query&quot;</span>,
      :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The query argument to supply to the data plugin&quot;</span>,
      :<span class="ruby-identifier">type</span>        =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">string</span>,
      :<span class="ruby-identifier">validation</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'^.+$'</span>,
      :<span class="ruby-identifier">optional</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,
      :<span class="ruby-identifier">maxlength</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">200</span>
</pre>

<p>end</p>

<p>action “ping”, :description =&gt; “Responds to requests for PING with PONG”
do</p>

<pre class="ruby"><span class="ruby-identifier">display</span> :<span class="ruby-identifier">always</span>

<span class="ruby-identifier">output</span> :<span class="ruby-identifier">pong</span>,
       :<span class="ruby-identifier">description</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The local timestamp&quot;</span>,
       :<span class="ruby-identifier">display_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Timestamp&quot;</span>
</pre>

<p>end</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

